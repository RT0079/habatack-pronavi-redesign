@use "sass:map";

/* ========== 変数 ========== */
$ink: #222831;        // header / footer
$deep: #393E46;       // dark sections
$accent: #FFD369;     // yellow
$soft: #EEEEEE;       // light bg
$sand: #D6D3CC;       // light warm
$nav-base: #246688;       // light warm
$signup: #D45A42;       // light warm
$signup-border: #e6b351;       // light warm
$main: #20336D      ; // deep blue
$radius: 12px;
$shadow: 0 10px 24px rgba(0, 0, 0, 0.18);

$breakpoints: (
    md: 960px,
    sm: 640px
);

// ナビ高さ（stickyオフセット用）
:root {
    --nav-offset: 6rem;
}

@mixin respond($size) {
    $value: map.get($breakpoints, $size);
    @if $value {
        @media (max-width: $value) {
            @content;
        }
    } @else {
        @media (max-width: $size) {
            @content;
        }
    }
}

// Add styles for screens below 640px
@include respond(sm) {
    body {
        font-size: 14px; // Adjust base font size
        line-height: 1.6;
    }

    .hero {
        .hero-visual img {
            width: 100%; // Ensure images are responsive
            height: auto;
        }
        .hero-text- {
            padding: 1rem;
            text-align: center;
        }
    }

    .about {
        h2 {
            font-size: 1.5rem;
        }
        p {
            font-size: 0.9rem;
        }
    }

    .reason-card {
        .reason-pic img {
            width: 100%;
            height: auto;
        }
        .reason-text {
            padding: 1rem;
        }
    }

    .teacher {
        .teacher-inner {
            flex-direction: column; // Stack teacher images and text
        }
        .teacher-inner-left,
        .teacher-inner-right {
            width: 100%;
        }
        .teacher-list-card {
            margin-bottom: 1rem;
        }
    }

    .graduate-work {
        .graduate-col {
            width: 100%; // Stack graduate cards
        }
        .graduate-card {
            margin-bottom: 1rem;
        }
    }

    footer {
        .signup-btn {
            margin: 1rem auto;
        }
    }
}

// 共通: 見出しに左右バーを付ける
@mixin h2-with-bars($bar-width: 55px, $bar-height: 5px, $bar-color: currentColor, $gap: 20px) {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: $gap;
    text-align: center;
    text-shadow: 0 0 10px rgba(0,0,0,0.2), 0 0 10px rgba(255,255,255,0.5);

    &::before,
    &::after {
        content: "";
        display: block;
        width: $bar-width;
        height: $bar-height;
        background-color: $bar-color;
        border-radius: $bar-height;
        box-shadow: 0 0 12px currentColor, 0 0 24px rgba(0, 0, 0, 0.08);
    }
}

// 共通: ヘッダー
@mixin site-header-base {
    position: relative;

    & .global-nav{
        position: fixed;
        top: 2rem;
        left: 50%;
        width: min(800px,90vw);
        border-radius: 3rem;
        background: linear-gradient(180deg, rgba(60, 78, 180, 0.65), rgba(28, 46, 120, 0.65));
        border: 1px solid rgba(255, 255, 255, 0.25);
        height: 4rem;
        transform: translateX(-50%);
        z-index: 999;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 16px 30px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.35), inset 0 -1px 0 rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.08);
        transition: background .2s ease, box-shadow .2s ease;

        @supports ((backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px))) {
            background: linear-gradient(180deg, rgba(60, 78, 180, 0.5), rgba(28, 46, 120, 0.45));
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        & .nav-inner {
            width: 100%;
            display: flex;
            align-items: center;
            gap: 2.75rem;

            & .nav-list{
                flex: 1 1 auto;
                display: flex;
                justify-content: space-between;
                align-items: center;
                height: 100%;
                margin-left: 50px;
                padding: 0;
                gap: .25rem;

                & li{
                    list-style: none;
                    height: 100%;
                    display: flex;
                    align-items: center;

                    & a{
                        display: flex;
                        align-items: center;
                        height: 100%;
                        text-decoration: none;
                        color: white;
                        font-size: 1.5rem;
                        font-weight: 400;
                        padding: 0 .75rem;
                        border-radius: .75rem;

                        &:hover{
                            background-color: rgba(255, 255, 255, 0.2);
                        }
                    }
                }
            }

            & .nav-cta{
                flex-shrink: 0;
                display: flex;
                align-items: center;

                & .signup-btn {
                    display: inline-flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.25rem;
                    padding: 0.9rem 1.75rem;
                    border-radius: 999px;
                    background: linear-gradient(135deg, #ffb35a, #f3722c);
                    color: white;
                    box-shadow: 0 12px 24px rgba(243, 114, 44, 0.45), 0 0 0 2px rgba(255, 255, 255, 0.18), inset 0 1px 0 rgba(255, 255, 255, 0.35);
                    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.35);
                    box-sizing: border-box;
                    transition: box-shadow .15s ease, transform .15s ease;

                    &:hover{
                        transform: translateY(-1px) scale(1.02);
                        box-shadow: 0 14px 26px rgba(243, 114, 44, 0.55), 0 0 0 2px rgba(255, 255, 255, 0.22), inset 0 1px 0 rgba(255, 255, 255, 0.45);
                    }
                    &:active{
                        transform: translateY(0);
                        box-shadow: 0 10px 18px rgba(243, 114, 44, 0.4), 0 0 0 2px rgba(255, 255, 255, 0.18);
                    }
                }
            }
        }
    }

    & .menu-toggle{
        display: none;
        background: transparent;
        border: none;
        padding: 0;
        z-index: 1000;
    }
}
